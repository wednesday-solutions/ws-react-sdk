import"../_rollup-plugin-inject-process-env-1259e43d.js";function t(t,e,n,r,i,a,o){try{var h=t[a](o),u=h.value}catch(t){return void n(t)}h.done?e(u):Promise.resolve(u).then(r,i)}function e(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function h(e){t(o,i,a,h,u,"next",e)}function u(e){t(o,i,a,h,u,"throw",e)}h(void 0)}))}}var n=t=>new Promise(((e,n)=>{var r=new Image;r.addEventListener("load",(()=>e(r))),r.addEventListener("error",(t=>n(t))),r.setAttribute("crossOrigin","anonymous"),r.src=t}));function r(t){return t*Math.PI/180}function i(t,e){return a.apply(this,arguments)}function a(){return(a=e((function*(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=yield n(t),o=document.createElement("canvas"),h=o.getContext("2d"),u=Math.max(a.width,a.height),d=u/2*Math.sqrt(2)*2;o.width=d,o.height=d,h.translate(d/2,d/2),h.rotate(r(i)),h.translate(-d/2,-d/2),h.drawImage(a,d/2-.5*a.width,d/2-.5*a.height);var s=h.getImageData(0,0,d,d);return o.width=e.width,o.height=e.height,h.putImageData(s,Math.round(0-d/2+.5*a.width-e.x),Math.round(0-d/2+.5*a.height-e.y)),new Promise((t=>{o.toBlob((e=>{t(URL.createObjectURL(e))}),"image/jpeg")}))}))).apply(this,arguments)}export{i as getCroppedImg};
