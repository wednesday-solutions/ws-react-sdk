import"./_rollup-plugin-inject-process-env-1259e43d.js";function t(t,e,n,r,i,a,o){try{var h=t[a](o),u=h.value}catch(t){return void n(t)}h.done?e(u):Promise.resolve(u).then(r,i)}function e(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function h(e){t(o,i,a,h,u,"next",e)}function u(e){t(o,i,a,h,u,"throw",e)}h(void 0)}))}}function n(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var r=t=>new Promise(((e,n)=>{var r=new Image;r.addEventListener("load",(()=>e(r))),r.addEventListener("error",(t=>n(t))),r.setAttribute("crossOrigin","anonymous"),r.src=t}));function i(t){return t*Math.PI/180}function a(t,e){return o.apply(this,arguments)}function o(){return(o=e((function*(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=yield r(t),o=document.createElement("canvas"),h=o.getContext("2d"),u=Math.max(a.width,a.height),c=u/2*Math.sqrt(2)*2;o.width=c,o.height=c,h.translate(c/2,c/2),h.rotate(i(n)),h.translate(-c/2,-c/2),h.drawImage(a,c/2-.5*a.width,c/2-.5*a.height);var s=h.getImageData(0,0,c,c);return o.width=e.width,o.height=e.height,h.putImageData(s,Math.round(0-c/2+.5*a.width-e.x),Math.round(0-c/2+.5*a.height-e.y)),new Promise((t=>{o.toBlob((e=>{t(URL.createObjectURL(e))}),"image/jpeg")}))}))).apply(this,arguments)}export{n as _,a as g};
